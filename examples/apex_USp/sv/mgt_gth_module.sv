// This code was automatically generated by FPGA MGT Builder
// Timestamp: 2020-11-06 09:03:35.835
// User: madorsky
// FPGA MGT builder homepage: <link>

`include "drp_interface.sv"
`include "mgt_gth_interfaces.sv"
module GTHE4_CHANNEL_tux
#(parameter [7:0] qind = 0, parameter [7:0] mind = 0)
(
	drp.in drp_gth_if,
	mgt_gth_tx.in mgt_gth_tx_if,
	mgt_gth_rx.in mgt_gth_rx_if,
	input         cplllockdetclk,
	input         dmonitorclk,
	input         drpclk,
	input         qpll0clk,
	input         qpll0refclk,
	input         qpll1clk,
	input         qpll1refclk,
	output        rxphaligndone,
	input         rxsyncallin,
	input         rxusrclk,
	input         rxusrclk2,
	output [ 1:0] txbufstatus,
	input         txlatclk,
	output        txoutclk,
	input         txusrclk,
	input         txusrclk2
);
`include "xymap_gth.sv"
	wire [15:0] XY = mgtxy[qind][mind];
	reg  [31:0] reg_  [ 4: 0];
	wire [31:0] wire_ [ 6: 5];
    reg         int_reg_rdy;
    reg  [31:0] drpdo_reg;
    wire        drprdy_mgt;
    wire [31:0] drpdo_mgt;
    reg         drprdy_reg;
    assign drp_gth_if.drprdy = drprdy_reg;
    assign drp_gth_if.drpdo  = drpdo_reg;
    always @(posedge drpclk)
    begin
        drprdy_reg = 1'b0;
		drpdo_reg = 32'h0;
        if (drp_gth_if.int_reg == 1'b1)
        begin
            if (drp_gth_if.drpwe == 1'b1)
            begin
                case (drp_gth_if.drpaddr)

                    9'd0: reg_[0] = drp_gth_if.drpdi;
                    9'd1: reg_[1] = drp_gth_if.drpdi;
                    9'd2: reg_[2] = drp_gth_if.drpdi;
                    9'd3: reg_[3] = drp_gth_if.drpdi;
                    9'd4: reg_[4] = drp_gth_if.drpdi;
                endcase
                drprdy_reg = 1'b1;
            end
            else
            begin
                case (drp_gth_if.drpaddr)

                    9'd0: drpdo_reg = reg_[0];
                    9'd1: drpdo_reg = reg_[1];
                    9'd2: drpdo_reg = reg_[2];
                    9'd3: drpdo_reg = reg_[3];
                    9'd4: drpdo_reg = reg_[4];
                    9'd5: drpdo_reg = wire_[5];
                    9'd6: drpdo_reg = wire_[6];
                    9'h1ff: drpdo_reg = XY; // each MGT reports its XY
                endcase
                drprdy_reg = 1'b1;
            end
        end

        if (drprdy_mgt == 1'b1)
        begin
            drpdo_reg = drpdo_mgt;
            drprdy_reg = 1'b1;
        end
    end

	GTHE4_CHANNEL GTHE4_CHANNEL_inst
	(
		.CDRSTEPDIR                 (1'b0),
		.CDRSTEPSQ                  (1'b0),
		.CDRSTEPSX                  (1'b0),
		.CFGRESET                   ( reg_[0][ 0: 0]),
		.CPLLFBCLKLOST              (wire_[5][ 0: 0]),
		.CPLLLOCK                   (wire_[5][ 1: 1]),
		.CPLLLOCKDETCLK             (cplllockdetclk            ),
		.CPLLLOCKEN                 (1'b1),
		.CPLLPD                     ( reg_[0][ 1: 1]),
		.CPLLREFCLKLOST             (wire_[5][ 2: 2]),
		.CPLLREFCLKSEL              (3'b1),
		.CPLLREFCLKSEL              (3'b1),
		.CPLLRESET                  (1'b0),
		.DMONFIFORESET              ( reg_[0][ 2: 2]),
		.DMONITORCLK                (dmonitorclk               ),
		.DMONITOROUT                (wire_[5][18: 3]),
		.DMONITOROUTCLK             (wire_[5][19:19]),
		.DRPADDR                    (drp_if.drpaddr            ),
		.DRPCLK                     (drpclk                    ),
		.DRPDI                      (drp_if.drpdi [15:0]),
		.DRPDO                      (drpdo_mgt [15:0]),
		.DRPEN                      (drp_if.drpen              ),
		.DRPRDY                     (drprdy_mgt),
		.DRPRST                     ( reg_[0][ 3: 3]),
		.DRPWE                      (drp_if.drpwe              ),
		.EYESCANDATAERROR           (wire_[5][20:20]),
		.EYESCANRESET               ( reg_[0][ 4: 4]),
		.EYESCANTRIGGER             ( reg_[0][ 5: 5]),
		.FREQOS                     (1'b0),
		.GTGREFCLK                  (1'b0),
		.GTNORTHREFCLK0             (1'b0),
		.GTNORTHREFCLK1             (1'b0),
		.GTPOWERGOOD                (wire_[5][21:21]),
		.GTPOWERGOOD                (wire_[5][22:22]),
		.GTREFCLK0                  (1'b0),
		.GTREFCLK1                  (1'b0),
		.GTREFCLKMONITOR            (),
		.GTRESETSEL                 ( reg_[0][ 6: 6]),
		.GTRXRESET                  ( reg_[0][ 7: 7]),
		.GTRXRESETSEL               ( reg_[0][ 8: 8]),
		.GTSOUTHREFCLK0             (1'b0),
		.GTSOUTHREFCLK1             (1'b0),
		.GTTXRESET                  ( reg_[0][ 9: 9]),
		.GTTXRESETSEL               ( reg_[0][10:10]),
		.GTHRXN                     (mgt_gth_rx_if.gthrxn      ),
		.GTHRXP                     (mgt_gth_rx_if.gthrxp      ),
		.INCPCTRL                   (1'b0),
		.LOOPBACK                   ( reg_[0][13:11]),
		.GTHTXN                     (mgt_gth_tx_if.gthtxn      ),
		.GTHTXP                     (mgt_gth_tx_if.gthtxp      ),
		.PCSRSVDOUT                 (),
		.PHYSTATUS                  (),
		.QPLL0CLK                   (qpll0clk                  ),
		.QPLL0REFCLK                (qpll0refclk               ),
		.QPLL1CLK                   (qpll1clk                  ),
		.QPLL1REFCLK                (qpll1refclk               ),
		.RESETEXCEPTION             (),
		.RESETEXCEPTION             (),
		.RESETOVRD                  (1'b0),
		.RSOSINTDONE                (),
		.RX8B10BEN                  ( reg_[0][14:14]),
		.RXAFECFOKEN                (1'b1),
		.RXBUFRESET                 ( reg_[0][15:15]),
		.RXBUFRESET                 ( reg_[0][16:16]),
		.RXBUFSTATUS                (wire_[5][25:23]),
		.RXBYTEISALIGNED            (wire_[5][26:26]),
		.RXBYTEREALIGN              (),
		.RXCDRFREQRESET             (1'b0),
		.RXCDRFREQRESET             ( reg_[0][17:17]),
		.RXCDRHOLD                  ( reg_[0][18:18]),
		.RXCDRHOLD                  ( reg_[0][19:19]),
		.RXCDRLOCK                  (),
		.RXCDROVRDEN                ( reg_[0][20:20]),
		.RXCDROVRDEN                (1'b0),
		.RXCDRPHDONE                (),
		.RXCDRRESET                 (1'b0),
		.RXCDRRESET                 (1'b0),
		.RXCHANBONDSEQ              (),
		.RXCHANISALIGNED            (),
		.RXCHANREALIGN              (),
		.RXCHBONDEN                 (1'b0),
		.RXCHBONDI                  (5'b0),
		.RXCHBONDLEVEL              (3'b0),
		.RXCHBONDMASTER             (1'b0),
		.RXCHBONDO                  (),
		.RXCHBONDSLAVE              (1'b0),
		.RXCKCALDONE                (),
		.RXCKCALRESET               (1'b0),
		.RXCKCALSTART               (7'b0),
		.RXCLKCORCNT                (),
		.RXCOMINITDET               (),
		.RXCOMMADET                 (),
		.RXCOMMADETEN               ( reg_[0][21:21]),
		.RXCOMSASDET                (),
		.RXCOMWAKEDET               (),
		.RXCTRL0                    (mgt_gth_rx_if.rxctrl0     ),
		.RXCTRL1                    (mgt_gth_rx_if.rxctrl1     ),
		.RXCTRL2                    (mgt_gth_rx_if.rxctrl2     ),
		.RXCTRL3                    (mgt_gth_rx_if.rxctrl3     ),
		.RXDATA                     (mgt_gth_rx_if.rxdata      ),
		.RXDATAEXTENDRSVD           (),
		.RXDATAVALID                (mgt_gth_rx_if.rxdatavalid ),
		.RXDFEAGCHOLD               (1'b0),
		.RXDFEAGCOVRDEN             (1'b0),
		.RXDFECFOKFCNUM             (4'b1101),
		.RXDFECFOKFEN               (1'b0),
		.RXDFECFOKFPULSE            (1'b0),
		.RXDFECFOKHOLD              (1'b0),
		.RXDFECFOKOVREN             (1'b0),
		.RXDFEKHHOLD                (1'b0),
		.RXDFEKHOVRDEN              (1'b0),
		.RXDFELFHOLD                (1'b0),
		.RXDFELFOVRDEN              (1'b0),
		.RXDFELPMRESET              ( reg_[0][22:22]),
		.RXDFELPMRESET              ( reg_[0][23:23]),
		.RXDFETAP10HOLD             (1'b0),
		.RXDFETAP10OVRDEN           (1'b0),
		.RXDFETAP11HOLD             (1'b0),
		.RXDFETAP11OVRDEN           (1'b0),
		.RXDFETAP12HOLD             (1'b0),
		.RXDFETAP12OVRDEN           (1'b0),
		.RXDFETAP13HOLD             (1'b0),
		.RXDFETAP13OVRDEN           (1'b0),
		.RXDFETAP14HOLD             (1'b0),
		.RXDFETAP14OVRDEN           (1'b0),
		.RXDFETAP15HOLD             (1'b0),
		.RXDFETAP15OVRDEN           (1'b0),
		.RXDFETAP2HOLD              (1'b0),
		.RXDFETAP2OVRDEN            (1'b0),
		.RXDFETAP3HOLD              (1'b0),
		.RXDFETAP3OVRDEN            (1'b0),
		.RXDFETAP4HOLD              (1'b0),
		.RXDFETAP4OVRDEN            (1'b0),
		.RXDFETAP5HOLD              (1'b0),
		.RXDFETAP5OVRDEN            (1'b0),
		.RXDFETAP6HOLD              (1'b0),
		.RXDFETAP6OVRDEN            (1'b0),
		.RXDFETAP7HOLD              (1'b0),
		.RXDFETAP7OVRDEN            (1'b0),
		.RXDFETAP8HOLD              (1'b0),
		.RXDFETAP8OVRDEN            (1'b0),
		.RXDFETAP9HOLD              (1'b0),
		.RXDFETAP9OVRDEN            (1'b0),
		.RXDFEUTHOLD                (1'b0),
		.RXDFEUTOVRDEN              (1'b0),
		.RXDFEVPHOLD                (1'b0),
		.RXDFEVPOVRDEN              (1'b0),
		.RXDFEXYDEN                 (1'b1),
		.RXDLYBYPASS                ( reg_[0][24:24]),
		.RXDLYBYPASS                ( reg_[0][25:25]),
		.RXDLYEN                    ( reg_[0][26:26]),
		.RXDLYOVRDEN                ( reg_[0][27:27]),
		.RXDLYSRESET                ( reg_[0][28:28]),
		.RXDLYSRESETDONE            (wire_[5][27:27]),
		.RXELECIDLE                 (),
		.RXELECIDLEMODE             ( reg_[0][30:29]),
		.RXGEARBOXSLIP              (mgt_gth_rx_if.rxgearboxslip),
		.RXHEADER                   (mgt_gth_rx_if.rxheader    ),
		.RXHEADERVALID              (mgt_gth_rx_if.rxheadervalid),
		.RXLATCLK                   (mgt_gth_rx_if.rxlatclk    ),
		.RXLPMEN                    ( reg_[0][31:31]),
		.RXLPMGCHOLD                (1'b0),
		.RXLPMGCOVRDEN              (1'b0),
		.RXLPMHFHOLD                (1'b0),
		.RXLPMHFOVRDEN              (1'b0),
		.RXLPMLFHOLD                (1'b0),
		.RXLPMLFKLOVRDEN            (1'b0),
		.RXLPMOSHOLD                (1'b0),
		.RXLPMOSOVRDEN              (1'b0),
		.RXMCOMMAALIGNEN            ( reg_[1][ 0: 0]),
		.RXMONITOROUT               (),
		.RXMONITORSEL               (2'b00),
		.RXOOBRESET                 (1'b0),
		.RXOOBRESET                 (1'b0),
		.RXOSCALRESET               ( reg_[1][ 1: 1]),
		.RXOSHOLD                   (1'b0),
		.RXOSINTDONE                (),
		.RXOSINTSTARTED             (),
		.RXOSINTSTROBEDONE          (),
		.RXOSINTSTROBESTARTED       (1'b0),
		.RXOSOVRDEN                 (1'b0),
		.RXOUTCLK                   (mgt_gth_rx_if.rxoutclk    ),
		.RXOUTCLKFABRIC             (),
		.RXOUTCLKPCS                (),
		.RXOUTCLKSEL                ( reg_[1][ 4: 2]),
		.RXPCOMMAALIGNEN            ( reg_[1][ 5: 5]),
		.RXPCSRESET                 ( reg_[1][ 6: 6]),
		.RXPD                       ( reg_[1][ 8: 7]),
		.RXPHALIGN                  ( reg_[1][ 9: 9]),
		.RXPHALIGNDONE              (rxphaligndone             ),
		.RXPHALIGNEN                ( reg_[1][10:10]),
		.RXPHALIGNERR               (wire_[5][28:28]),
		.RXPHDLYPD                  (1'b0),
		.RXPHDLYPD                  ( reg_[1][11:11]),
		.RXPHDLYRESET               ( reg_[1][12:12]),
		.RXPLLCLKSEL                ( reg_[1][14:13]),
		.RXPMARESET                 ( reg_[1][15:15]),
		.RXPMARESETDONE             (wire_[5][29:29]),
		.RXPOLARITY                 ( reg_[1][16:16]),
		.RXPRBSCNTRESET             ( reg_[1][17:17]),
		.RXPRBSERR                  (wire_[5][30:30]),
		.RXPRBSLOCKED               (wire_[5][31:31]),
		.RXPRBSSEL                  ( reg_[1][21:18]),
		.RXPRGDIVRESETDONE          (wire_[6][ 0: 0]),
		.RXPROGDIVRESET             ( reg_[1][22:22]),
		.RXRATE                     ( reg_[1][25:23]),
		.RXRATE                     ( reg_[1][28:26]),
		.RXRATEDONE                 (),
		.RXRATEMODE                 ( reg_[1][29:29]),
		.RXRESETDONE                (wire_[6][ 1: 1]),
		.RXSLIDE                    (mgt_gth_rx_if.rxslide     ),
		.RXSLIPOUTCLK               ( reg_[1][30:30]),
		.RXSLIPPMA                  ( reg_[1][31:31]),
		.RXSTARTOFSEQ               (mgt_gth_rx_if.rxstartofseq),
		.RXSTATUS                   (),
		.RXSYNCALLIN                (rxsyncallin               ),
		.RXSYNCDONE                 (wire_[6][ 2: 2]),
		.RXSYNCIN                   ( reg_[2][ 0: 0]),
		.RXSYNCMODE                 ( reg_[2][ 1: 1]),
		.RXSYNCOUT                  (wire_[6][ 3: 3]),
		.RXSYSCLKSEL                ( reg_[2][ 3: 2]),
		.RXTERMINATION              (1'b0),
		.RXUSERRDY                  ( reg_[2][ 4: 4]),
		.RXUSRCLK                   (rxusrclk                  ),
		.RXUSRCLK2                  (rxusrclk2                 ),
		.TX8B10BBYPASS              ( reg_[2][12: 5]),
		.TX8B10BEN                  ( reg_[2][13:13]),
		.TXBUFSTATUS                (wire_[6][ 5: 4]),
		.TXBUFSTATUS                (txbufstatus               ),
		.TXCOMFINISH                (),
		.TXCOMINIT                  (1'b0),
		.TXCOMSAS                   (1'b0),
		.TXCOMWAKE                  (1'b0),
		.TXCTRL0                    (mgt_gth_tx_if.txctrl0     ),
		.TXCTRL1                    (mgt_gth_tx_if.txctrl1     ),
		.TXCTRL2                    (mgt_gth_tx_if.txctrl2     ),
		.TXDATA                     (mgt_gth_tx_if.txdata      ),
		.TXDATAEXTENDRSVD           (1'b0),
		.TXDCCDONE                  (),
		.TXDCCFORCESTART            (),
		.TXDCCRESET                 (),
		.TXDEEMPH                   ( reg_[2][15:14]),
		.TXDETECTRX                 (1'b0),
		.TXDIFFCTRL                 ( reg_[2][20:16]),
		.TXDLYBYPASS                ( reg_[2][21:21]),
		.TXDLYBYPASS                ( reg_[2][22:22]),
		.TXDLYEN                    ( reg_[2][23:23]),
		.TXDLYHOLD                  (1'b0),
		.TXDLYOVRDEN                ( reg_[2][24:24]),
		.TXDLYSRESET                ( reg_[2][25:25]),
		.TXDLYSRESETDONE            (wire_[6][ 6: 6]),
		.TXDLYUPDOWN                (1'b0),
		.TXELECIDLE                 ( reg_[2][26:26]),
		.TXHEADER                   (mgt_gth_tx_if.txheader    ),
		.TXINHIBIT                  ( reg_[2][27:27]),
		.TXLATCLK                   (txlatclk                  ),
		.TXMAINCURSOR               ( reg_[3][ 6: 0]),
		.TXMARGIN                   ( reg_[3][ 9: 7]),
		.TXOUTCLK                   (txoutclk                  ),
		.TXOUTCLKFABRIC             (),
		.TXOUTCLKPCS                (),
		.TXOUTCLKSEL                ( reg_[3][12:10]),
		.TXPCSRESET                 ( reg_[3][13:13]),
		.TXPD                       ( reg_[3][15:14]),
		.TXPDELECIDLEMODE           (1'b0),
		.TXPHALIGN                  ( reg_[3][16:16]),
		.TXPHALIGNDONE              (wire_[6][ 7: 7]),
		.TXPHALIGNEN                ( reg_[3][17:17]),
		.TXPHDLYPD                  (1'b0),
		.TXPHDLYPD                  ( reg_[3][18:18]),
		.TXPHDLYRESET               ( reg_[3][19:19]),
		.TXPHDLYTSTCLK              (1'b0),
		.TXPHINIT                   (1'b0),
		.TXPHINITDONE               (wire_[6][ 8: 8]),
		.TXPHOVRDEN                 ( reg_[3][20:20]),
		.TXPIPPMEN                  ( reg_[3][21:21]),
		.TXPIPPMOVRDEN              ( reg_[3][22:22]),
		.TXPIPPMPD                  ( reg_[3][23:23]),
		.TXPIPPMSEL                 ( reg_[3][24:24]),
		.TXPIPPMSTEPSIZE            ( reg_[3][29:25]),
		.TXPISOPD                   (1'b0),
		.TXPLLCLKSEL                ( reg_[3][31:30]),
		.TXPMARESET                 ( reg_[4][ 0: 0]),
		.TXPMARESETDONE             (wire_[6][ 9: 9]),
		.TXPOLARITY                 ( reg_[4][ 1: 1]),
		.TXPOSTCURSOR               ( reg_[4][ 6: 2]),
		.TXPRBSFORCEERR             ( reg_[4][ 7: 7]),
		.TXPRBSSEL                  ( reg_[4][11: 8]),
		.TXPRECURSOR                ( reg_[4][16:12]),
		.TXPRGDIVRESETDONE          (wire_[6][10:10]),
		.TXPROGDIVRESET             ( reg_[4][17:17]),
		.TXRATE                     ( reg_[4][20:18]),
		.TXRATEDONE                 (wire_[6][11:11]),
		.TXRATEMODE                 ( reg_[4][21:21]),
		.TXRESETDONE                (wire_[6][12:12]),
		.TXSEQUENCE                 (mgt_gth_tx_if.txsequence  ),
		.TXSWING                    ( reg_[4][22:22]),
		.TXSYNCALLIN                ( reg_[4][23:23]),
		.TXSYNCDONE                 (wire_[6][13:13]),
		.TXSYNCIN                   ( reg_[4][24:24]),
		.TXSYNCMODE                 ( reg_[4][25:25]),
		.TXSYNCOUT                  (wire_[6][14:14]),
		.TXSYSCLKSEL                ( reg_[4][27:26]),
		.TXSYSCLKSEL                ( reg_[4][28:28]),
		.TXUSERRDY                  ( reg_[4][29:29]),
		.TXUSRCLK                   (txusrclk                  ),
		.TXUSRCLK2                  (txusrclk2                 ),
		.RXQPISENN                  (),
		.RXQPISENP                  (),
		.TXQPISENN                  (),
		.TXQPISENP                  (),
		.RXDFEAGCCTRL               (2'b01),
		.RXPHOVRDEN                 (1'b0),
		.RXQPIEN                    (1'b0),
		.TXQPIBIASEN                (1'b0),
		.TXQPIWEAKPUP               (1'b0)
	);
endmodule
